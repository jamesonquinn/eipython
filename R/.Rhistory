setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
library(ggplot2)
library(gridExtra)
library(ggpubr)
library(reshape2)
library(data.table)
library(rstan)
library(rjson)
library(mvtnorm)
library(GetoptLong)
library(latex2exp)
library(xtable)
rstan_options(auto_write = TRUE)
all.fits = list.files("../eiresults/", pattern="fit.*.json",full.names=T)
all.samps = list.files("../eiresults/", pattern="samps.*.json",full.names=T)
fit.filename = all.fits[1]
samp.filename = all.samps[1]
fit = fromJSON(file=fit.filename)
R = 3
C = 3
samp=fread(samp.filename)
sparts = strsplit(samp.filename,"_")[[1]]
scenario.filename = paste("../eiresults/scenario",sparts[5],sparts[6],sparts[7],sep="_")
scenario = fread(paste0(scenario.filename,".csv"))
names(samp)
summary(samp)
Y = c()
for (rr in 0:2) {
for (cc in 0:2) {
Y = c(Y, scenario[var=="y"&r==rr&c==cc,sum(val)])
}
}
Y
Y = c()
for (rr in 0:2) {
for (cc in 0:2) {
Y = c(Y, scenario[var=="y"&r==rr&c==cc,sum(val+1)])
}
}
Y = c()
for (rr in 0:2) {
for (cc in 0:2) {
Y = c(Y, scenario[var=="y"&r==rr&c==cc,sum(val+1)])
}
}
Y
